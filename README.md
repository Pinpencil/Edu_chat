# Edu_chat
一个基于django框架的教育用课堂BBS系统

## 概述

主题房间页面是课堂BBS系统的核心交互界面，提供了完整的在线教学和协作功能。该页面支持师生角色分离，实现了小组管理、帖子发布、实时交互等多种功能。

## 页面布局架构

### 1. 整体布局

- **左侧边栏**：固定位置，包含任务列表、小组管理和用户信息
- **主内容区**：包含主题信息、帖子发布区和帖子展示区
- **响应式设计**：支持移动端和桌面端自适应

## 核心功能模块

### 一、用户身份管理系统

#### 1. 角色分离

- **教师角色**：拥有完整的管理权限
- **学生角色**：拥有基础的参与权限
- **权限控制**：基于角色的功能访问控制

#### 2. 用户信息显示

- 用户名、身份标识、自定义ID显示
- 在线状态指示
- 实时身份验证

### 二、小组管理系统

#### 1. 小组创建（教师专用）

- **基本信息设置**：
  - 小组名称（必填）
  - 小组描述（可选）
  - 自动生成唯一ID
- **即时创建**：表单验证后立即生成小组
- **实时广播**：通过WebSocket通知所有用户新小组创建

#### 2. 小组展示

- **小组卡片**：美观的卡片式展示
- **成员统计**：实时显示成员数量
- **成员列表**：滚动式成员名单显示
- **描述展开**：支持长描述的展开/收起

#### 3. 小组加入机制

- **一键加入**：点击小组名称即可加入
- **自动切换**：加入新小组时自动退出原小组
- **页面更新**：加入后自动更新主题标题和描述
- **帖子过滤**：自动切换到当前小组的帖子视图

#### 4. 小组删除（教师专用）

- **安全删除**：确认对话框防止误删
- **成员处理**：删除时自动处理成员归属
- **实时同步**：立即从所有客户端移除

### 三、帖子管理系统

#### 1. 帖子发布功能

- **富文本编辑**：
  - 标题输入（必填）
  - 内容输入（支持多行文本）
  - 图片附件上传
  - 文件附件支持
- **团队归属**：自动标记帖子所属小组
- **状态指示**：显示当前发布目标（小组或公共）

#### 2. 帖子展示系统

- **瀑布流布局**：自适应网格展示
- **卡片式设计**：每个帖子独立卡片
- **元信息显示**：
  - 发布者姓名
  - 发布时间
  - 所属小组标识
  - 点赞和评论数量

#### 3. 帖子交互功能

- **点赞系统**：
  - 一键点赞/取消点赞
  - 实时点赞数更新
  - 点赞状态视觉反馈
- **评论系统**：
  - 折叠式评论展示
  - 实时评论发布
  - 评论数量统计
- **分享传播**：社交媒体分享支持

#### 4. 帖子编辑管理

- **在线编辑**：
  - 原地编辑模式
  - 保留原格式
  - 图片重新上传
- **删除功能**：
  - 权限控制（作者或教师）
  - 确认对话框
  - 实时移除

### 四、高亮展示系统

#### 1. 教师展示控制

- **中央高亮**：将选中帖子移至页面中央
- **视觉强调**：特殊样式标记重点帖子
- **自动滚动**：页面自动滚动到高亮帖子
- **广播功能**：向所有学生展示选中内容

#### 2. 高亮状态管理

- **服务器同步**：高亮状态存储在服务器
- **定时检测**：每5秒检查服务器高亮状态
- **状态持久化**：页面刷新后保持高亮状态

### 五、视图切换系统

#### 1. 团队视图模式

- **自动过滤**：仅显示当前小组相关帖子
- **标题同步**：页面标题显示当前小组名称
- **状态指示**：明确显示当前所在小组

#### 2. 全局视图模式

- **显示全部帖子**：查看所有小组的帖子
- **教师广播**：教师可强制所有学生切换到全局视图
- **状态恢复**：支持返回团队视图

### 六、实时通信系统

#### 1. WebSocket连接

- **持久连接**：与服务器保持实时连接
- **自动重连**：网络中断后自动恢复
- **状态监控**：连接状态实时显示

#### 2. 实时事件处理

- **新帖子广播**：新帖子立即出现在所有客户端
- **点赞同步**：点赞状态实时同步
- **评论推送**：新评论即时显示
- **小组变动**：小组创建/删除/加入实时更新
- **高亮同步**：教师高亮操作实时传播

### 七、图片处理系统

#### 1. 图片上传

- **格式支持**：支持常见图片格式
- **大小限制**：自动控制上传文件大小
- **预览功能**：上传后即时预览

#### 2. 图片展示

- **自适应显示**：图片自动适应容器大小
- **点击放大**：模态框放大查看
- **懒加载**：优化页面加载性能

## 用户操作流程

### 学生用户流程

1. **进入房间** → 查看当前主题和小组列表
2. **选择小组** → 点击小组名称加入
3. **查看帖子** → 浏览当前小组相关帖子
4. **参与讨论** → 发布帖子、点赞、评论
5. **切换视图** → 根据需要查看全部帖子

### 教师用户流程

1. **创建小组** → 设置小组名称和描述
2. **管理内容** → 审核、编辑、删除帖子
3. **重点展示** → 高亮重要帖子到中央
4. **统一展示** → 强制所有学生查看全部内容
5. **查看统计** → 访问详细的数据统计


### 已实现功能

- 帖子高亮统计
- 学生名单管理
- 主题描述编辑

## 总结

这个主题房间页面提供了完整的在线教学协作环境，集成了小组管理、内容发布、实时交互等核心功能。通过角色分离和权限控制，确保了教学活动的有序进行。实时通信系统保证了信息的即时传递，响应式设计确保了良好的跨设备体验。整个系统设计注重用户体验，提供了直观易用的操作界面，是现代化在线教育平台的优秀实现。
